<script type="module" src="../../../@polymer/app-route/app-route.js"></script>
<script type="module" src="../../../mist-list/mist-list.js"></script>
<script type="module" src="./teams/member-page.js"></script>
<dom-module id="page-members">
    <template>
        <style include="shared-styles">
        [hidden] {
            display: none !important;
        }
        </style>
        <app-route route="{{route}}" pattern="/:member" data="{{data}}"></app-route>
        <template is="dom-if" if="[[_isListActive(route.path)]]" restamp>
            <mist-list selectable resizable column-menu multi-sort items="[[model.membersArray]]" selected-items="{{selectedItems}}" frozen=[[_getFrozenColumn()]] visible=[[_getVisibleColumns()]]>
                <p slot="no-items-found">No members found.</p>
            </mist-list>
        </template>
        <member-page model="[[model]]" params="[[data]]" section="[[model.sections.teams]]" resource-id="[[data.member]]" hidden$=[[_isListActive(route.path)]]></member-page>
    </template>
    <script type="module">
import '../../../@polymer/app-route/app-route.js';
import '../../../mist-list/mist-list.js';
import './teams/member-page.js';
import { Polymer } from '../../../@polymer/polymer/lib/legacy/polymer-fn.js';
Polymer({

    is: 'page-members',

    properties: {
        model: {
            type: Object
        },
        data: {
            type: Object
        },
        selectedItems: {
            type: Array
        }
    },
    listeners: {
        'action-finished': 'clearListSelection'
    },
    clearListSelection: function() {
        this.set('selectedItems', []);
    },
    _isListActive: function(path) {
        return !path;
    },
    _getVisibleColumns: function() {
        return ['name']
    },

    _getFrozenColumn: function() {
        return ['email']
    },
});
</script>
</dom-module>