<link rel="import" href="../bower_components/app-route/app-route.html">

<link rel="import" href="images/image-page.html">

<link rel="import" href="page-items.html">

<dom-module id="page-images">
  <template>
    <style>
       :host {
        display: block;
      }
    </style>

    <app-route route="{{route}}" pattern="/:image" data="{{data}}"></app-route>

    <page-items model="[[model]]" items="[[model.imagesArray]]" section="[[model.sections.images]]" hidden$=[[!_isListActive(route.path)]]></page-items>

    <image-page model="[[model]]" image$="[[_getImage(data.image, model.images)]]" section="[[model.sections.images]]" hidden$=[[!_isDetailsPageActive(route.path)]]>
    </image-page>

  </template>

  <script>
    Polymer({
      is: 'page-images',
      properties: {
        model: Object
      },
      _isDetailsPageActive: function (path) {
        return path;
      },
      _isListActive: function (path) {
        return !path;
      },
      _getImage: function (id) {
        if (this.model.images)
          return this.model.images[id];
      }

    });
  </script>
</dom-module>