<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<dom-module id="record-item">
    <template>
        <style is="custom-style" include="single-page"></style>
        <style include="shared-styles">
            :host {
                display: block;
                border: 1px solid #eee;
                margin: 10px 0;
            }

            .flex-horizontal-with-ratios {
                @apply(--layout-horizontal);
            }

            .flexchild {
                @apply(--layout-flex);
            }

            .flexchild:first-of-type {
                font-weight: 700;
            }
            .xs11 {
                padding-left: 0 !important;
            }
            .numbers, .index {
                text-align: center;
                padding-right: 0 !important;
            }
            .record-delete {
                padding: 20px;
            }
        </style>
        <div class="grid-row info-group">
            <div class="xs1 numbers">
                <div class="info-item index">
                    [[manindex]]
                </div>
            </div>
            <div class="xs11">
                <template is="dom-if" if="[[record.name]]">
                    <div class="info-item flex-horizontal-with-ratios">
                        <div class="flexchild">Name</div>
                        <div class="flexchild">[[record.name]]</div>
                    </div>
                </template>
                <template is="dom-if" if="[[record.id]]">
                    <div class="info-item flex-horizontal-with-ratios">
                        <div class="flexchild">ID</div>
                        <div class="flexchild">[[record.id]]</div>
                    </div>
                </template>
                <template is="dom-if" if="[[record.type]]">
                    <div class="info-item flex-horizontal-with-ratios">
                        <div class="flexchild">Type</div>
                        <div class="flexchild">[[record.type]]</div>
                    </div>
                </template>
                <template is="dom-if" if="[[record.rdata]]">
                    <div class="info-item flex-horizontal-with-ratios">
                        <div class="flexchild">Rdata</div>
                        <div class="flexchild">[[record.rdata]]</div>
                    </div>
                </template>
                <template is="dom-if" if="[[record.ttl]]">
                    <div class="info-item flex-horizontal-with-ratios">
                        <div class="flexchild">TTL</div>
                        <div class="flexchild">[[record.ttl]]</div>
                    </div>
                </template>
                <template is="dom-if" if="[[record.extra]]">
                    <div class="info-item flex-horizontal-with-ratios">
                        <div class="flexchild">Extra</div>
                        <div class="flexchild">[[_extratostring(record)]]</div>
                    </div>
                </template>
                <div class="record-delete" align="center">                    
                    <paper-button on-tap="_deleteRecord" class="simple">delete
                        <iron-icon icon="delete"></iron-icon>
                    </paper-button>
                </div>
            </div>
        </div>
    </template>
    <script>
        (function() {
            'use strict';

            Polymer({
                is: 'record-item',

                properties: {
                    record: {
                        type: Object
                    },
                    itemindex: {
                        type: Number
                    },
                    manindex: {
                        type: Number,
                        computed: '_computeman(itemindex)'
                    }
                },
                _computeman: function(index) {
                    return index+1;
                },
                _extratostring: function(record) {
                    return JSON.stringify(record.extra)
                }
            });
        })();
    </script>
</dom-module>
